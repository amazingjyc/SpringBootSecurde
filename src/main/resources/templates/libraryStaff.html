<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">

<head>
	<title>LibraryStaff</title>
	<link rel="stylesheet" media="screen" type="text/css" th:href="@{/css/libraryStaff.css}" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	
	<script type="text/javascript">
		function sendItemID(id){
			var itemid = id;
			$("#itemID").val(itemid);
			$("#send").submit();
		}
	</script>
</head>

<body class="body" style="background-color:#f6f6f6">	
	<div class="nav">
		<ul>
			<li><a href="home">Home</a></li>
			<li><a href="displaybooks">Books</a></li>
			<li><a href="displaymagazines">Magazines</a></li>
			<li><a href="displaytheses">Theses</a></li>
			<li><a href="displaymeetingrooms">Rooms</a></li>
			<li><a href="displayauthors">Authors</a></li>
			<li><a href="displaypublishers">Publishers</a></li>
			<li style="float:right"><a href="#">Account
				&nbsp;<span class="glyphicon glyphicon-chevron-down"></span></a></li>
			<li style="float:right">
				<form action="search">
					<div class="input-group">
						<input type="text" class="form-control" placeholder="Search" name="search">
						<div class="input-group-btn">
							<button class="btn btn-default" type="submit">
								<i class="glyphicon glyphicon-search"></i>
							</button>
						</div>
					</div>
				</form>
			</li>
		</ul>
	</div>
	
	<div class="Part1">
		<div class="container">
			<div class="category">
				<h2 id="shsh2">Staff Page</h2>
			</div>
		</div>
	</div>
	
	<br>
	</br>
	
	<div class="items">
		<div class="container">
			<h2>Item List</h2>      
			<select class="itemsRightSide">
				<option value="allItems">All Items</option>
				<option value="books">Books</option>
				<option value="magazines">Magazines</option>
				<option value="theses">Theses</option>
			</select>    
			<label class="itemsRightSide">Filter By: &nbsp</label>
			<table class="table">
				<thead>
					<tr>
						<th>Item ID</th>
						<th>Item Name</th>
						<th>Item Type</th>
						<th>STATUS</th>
						<th></th>
					</tr>
				</thead>
				<tbody>
					<c:forEach items="${allItems}" var="item">			
					<tr>
						<td>${item.itemid}</td>
						<td>${item.itemName}</td>
						<c:choose>
							<c:when test="${item.itemType == 0}">
								<td>Book</td>
							</c:when>
							<c:when test="${item.itemType == 1}">
								<td>Magazine</td>
							</c:when>
							<c:when test="${item.itemType == 2}">
								<td>Thesis</td>
							</c:when>
						</c:choose>
						<c:choose>
							<c:when test="${item.itemStatus == 0}">
								<td>Available</td>
							</c:when>
							<c:when test="${item.itemStatus == 1}">
								<td>BORROWED</td>
							</c:when>
						</c:choose>
						<td>
							<form action="displayitem" method="POST">
								<input type="submit" name="displayitem" class="btn btn-success" value="View"/>
								<input type="hidden" name="itemID" value="${item.itemid}" />						
							</form>
							<button type="button" class="btn btn-warning" data-toggle="modal" data-target="#editItemModal${item.itemid}">Edit</button>

							<!-- Modal -->
							<div id="editItemModal${item.itemid}" class="modal fade" role="dialog">
								<div class="modal-dialog">
							
							    	<!-- Modal content-->
							    	<div class="modal-content">
							      		<div class="modal-header">
							        		<button type="button" class="close" data-dismiss="modal">&times;</button>
							        		<h3 class="modal-title">Edit Item Information:</h3>
							      		</div>
							      		
							      		<form action="edititem" method="POST">
							      			<div class="modal-body">
							        			<Label>Item Name: &nbsp</Label>
							        			<input type="text" name="itemName" value="${item.itemName}"/>
							        			<br>
							        			</br>
							        			<Label>Author: &nbsp</Label>
							        			<input type="text" name="author" value="${item.author}"/>
							        			<br>
							        			</br>
							        			<Label>Publisher: &nbsp</Label>
							        			<input type="text" name="publisher" value="${item.publisher}"/>
							        			<br>
							        			</br>
							        			<Label>Year Published: &nbsp</Label>
							        			<input type="text" name="yearPublished" value="${item.yearPublished}"/>
							      		</div>
							      		<div class="modal-footer">
											<input type="submit" name="displayitem" class="btn btn-success" value="Confirm Edit"/>
											<input type="hidden" name="itemID" value="${item.itemid}" />
							      		</div>
							      		</form>
							      		
							    	</div>
							  	</div>
							</div>
							<button type="button" class="btn btn-danger" data-toggle="modal" data-target="#deleteModal${item.itemid}">Delete</button>

							<!-- Modal -->
							<div id="deleteModal${item.itemid}" class="modal fade" role="dialog">
								<div class="modal-dialog">
							
							    	<!-- Modal content-->
							    	<div class="modal-content">
							      		<div class="modal-header">
							        		<button type="button" class="close" data-dismiss="modal">&times;</button>
							        		<h3 class="modal-title">Warning!</h3>
							      		</div>
							      		<div class="modal-body">
							        		<p>Are you sure that you want to delete this item?</p>
							      		</div>
							      		<div class="modal-footer">
								      		<form action="deleteitem" method="POST">
												<input type="submit" name="displayitem" class="btn btn-danger" value="Confirm Delete"/>
												<input type="hidden" name="itemID" value="${item.itemid}" />						
											</form>
							      		</div>
							    	</div>
							  	</div>
							</div>
						</td>
					</tr>
					</c:forEach>
				</tbody>
			</table>
		</div>
	</div>
	
	<br>
	</br>
	
	<div class="addItems">
		<div class="container">
			<h2>Add Items</h2>
			<br>
			</br>
			<form action="additem" method="POST">
			<label>Item Name: &nbsp</label>
			<input type="text" name="itemName"></input>
			<label>Location: &nbsp</label>
			<input type="text" name="location"></input>
			<label>Author: &nbsp</label>
			<input type="text" name="author"></input>
			<br>
			</br>
			<label>Publisher: &nbsp&nbsp&nbsp</label>
			<input type="text" name="publisher"></input>
			<label>Year Published: &nbsp&nbsp&nbsp</label>
			<input type="text" name="yearPublished"></input>
			<label>Item Type: &nbsp</label>
			<select name="itemType">
				<option value="book">Book</option>
				<option value="magazine">Magazine</option>
				<option value="thesis">Thesis</option>
			</select>
			<br>
			</br>
			<br>
			</br>
			<input type="submit" class="btn btn-warning" style="float:right" value="Add Item"/>
			</form>
		</div>
	</div>
	
	<br>
	</br>
	
	<br>
	</br>
	<br>
	</br>
	
	<div class="footer">
		<div class="container">
			<h2>SHS ONLINE LIBRARY SYSTEM</h2>
			<br>
			</br>
			<div class="column">
				<h4> Quick links</h4>
				<ul>
					<li><a href="displaybooks">Books</a></li>
					<li><a href="displaymagazines">Magazines</a></li>
					<li><a href="displaytheses">Theses</a></li>
					<li><a href="displaymeetingrooms">Meeting Rooms</a></li>
					<li><a href="#">Tips</a></li>
				</ul>
			</div>
			<div class="column">
				<h4>Options</h4>
				<ul>
					<li><a href="#">About Us</a></li>
					<li><a href="#">Contacts</a></li>
					<li><a href="#">Terms & Condition</a></li>
					<li><a href="#">Privacy Policy</a></li>
				</ul>
			</div>
			<div class="column">
				<h4>Follow Us</h4>
				<ul>
					<li><a href="#">Facebook</a></li>
					<li><a href="#">Twitter</a></li>
					<li><a href="#">Instagram</a></li>
					<li><a href="#">RSS</a></li>
				</ul>
			</div>
			<div class="column">
				<h4>Newsletter</h4>
				<p>Get on the latest updates on books, magazines, and theses</p>
				<p>
					<div class="input-group">
						<input type="text" class="form-control" placeholder="Search for...">
						<span class="input-group-btn">
							<button class="btn btn-default" type="button"><span class="glyphicon glyphicon-envelope"></span></button>
						</span>
					</div><!-- /input-group -->
				</p>
			</div>
		</div>
	</div>
</body>

</html>